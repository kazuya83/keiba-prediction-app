# 実行計画 14: フロントエンド認証・共通ページ実装

## ゴール
- 認証フローと基本ページ（ログイン/登録/ダッシュボード）を実装し、バックエンド認証APIと連携する。

## 手順
1. OpenAPI生成クライアントを利用し、`auth` エンドポイントにアクセスするhooksを `frontend/src/lib/api/auth.ts` に実装。
2. `frontend/src/features/auth` 配下にフォームコンポーネント（React Hook Form + Zod）を作成し、パスワード強度表示やエラー処理を実装。
3. ソーシャルログイン用にバックエンドから渡される認証URLを取得し、ポップアップ/リダイレクト処理を実装。
4. グローバルストアにアクセストークン管理、リフレッシュ処理、ユーザー情報キャッシュを追加。
5. `ProtectedRoute` コンポーネントを作成し、認証が必要なページをガード。
6. ダッシュボードページを作成し、予測履歴サマリや通知数などのプレースホルダーウィジェットを配置。
7. React Testing Libraryでフォームバリデーション、ログイン成功/失敗のUIテストを作成。

## 成果物
- 認証フォームとダッシュボードページが機能し、バックエンドと連携。
- グローバルな認証ストアと保護ルートが動作。
- 認証関連の単体テストがGreen。

## 依存・前提
- 計画05でバックエンドのJWT認証が完成している。
- フロント基盤（計画13）のLint/Storybook環境が利用可能。

## リスクと対策
- **リスク**: トークン期限切れでリダイレクトループ。  
  **対策**: リフレッシュ失敗時に明示的ログアウト処理を実装。
- **リスク**: フォームバリデーション未整備によるAPIエラー。  
  **対策**: ZodバリデーションとUIフィードバックを必須とし、テストで担保。

